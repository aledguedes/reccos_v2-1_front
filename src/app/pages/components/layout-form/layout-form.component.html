<form class="form-group" [formGroup]="generalForm">
  <div formGroupName="personal">
    <fieldset class="p-3">
      <legend class="text-center">Dados Pessoais</legend>
      <div class="row">
        @for (field of personalData; track $index) {
          @if (field.typeComponent === "input") {
            <div [ngClass]="field.colClass">
              <app-input-forms
                [id]="field.inputFieldName"
                [label]="field.label"
                [formControlName]="field.inputFieldName"
                [type]="field.inputType ?? 'text'"
                [placeholder]="field.placeholder ?? ''"
                [step]="field.step"
                [accept]="field.accept"
                [isInvalid]="
                  (generalForm.get('personal.' + field.inputFieldName)
                    ?.invalid &&
                    (generalForm.get('personal.' + field.inputFieldName)
                      ?.touched ||
                      generalForm.get('personal.' + field.inputFieldName)
                        ?.dirty)) ??
                  false
                "
              ></app-input-forms>
            </div>
          }

          @if (field.typeComponent === "select") {
            <div [ngClass]="field.colClass">
              <app-select-forms
                [id]="field.inputFieldName"
                [label]="field.label"
                [options]="field.options ?? []"
                [formControlName]="field.inputFieldName"
                [isInvalid]="
                  (generalForm.get('personal.' + field.inputFieldName)
                    ?.invalid &&
                    (generalForm.get('personal.' + field.inputFieldName)
                      ?.touched ||
                      generalForm.get('personal.' + field.inputFieldName)
                        ?.dirty)) ??
                  false
                "
              ></app-select-forms>
            </div>
          }
        }
      </div>
    </fieldset>
  </div>

  <div formGroupName="address" class="mt-4">
    <fieldset class="p-3">
      <legend class="text-center">Dados de Contato</legend>
      <div class="row">
        @for (field of addressData; track $index) {
          @if (field.typeComponent === "input") {
            <div [ngClass]="field.colClass">
              <app-input-forms
                [id]="field.inputFieldName"
                [label]="field.label"
                [formControlName]="field.inputFieldName"
                [type]="field.inputType ?? 'text'"
                [placeholder]="field.placeholder ?? ''"
                [step]="field.step"
                [accept]="field.accept"
                [isInvalid]="
                  (generalForm.get('address.' + field.inputFieldName)
                    ?.invalid &&
                    (generalForm.get('address.' + field.inputFieldName)
                      ?.touched ||
                      generalForm.get('address.' + field.inputFieldName)
                        ?.dirty)) ??
                  false
                "
              ></app-input-forms>
            </div>
          }
        }
      </div>
    </fieldset>
  </div>
</form>
