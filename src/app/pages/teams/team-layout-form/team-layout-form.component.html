<form class="uk-form-stacked" [formGroup]="teamForm" (ngSubmit)="onSubmit()">
  <div formGroupName="team">
    <fieldset class="uk-fieldset">
      <legend class="uk-legend">Dados Pessoais</legend>
      <div class="row">
        @for (field of personalData; track $index) {
          @if (field.typeComponent === "input") {
            <div [ngClass]="field.colClass">
              <app-input-forms
                [id]="field.inputFieldName"
                [label]="field.label"
                [formControlName]="field.inputFieldName"
                [type]="field.inputType ?? 'text'"
                [placeholder]="field.placeholder ?? ''"
                [step]="field.step"
                [accept]="field.accept"
                [isInvalid]="
                  (teamForm.get('team.' + field.inputFieldName)?.invalid &&
                    (teamForm.get('team.' + field.inputFieldName)?.touched ||
                      teamForm.get('team.' + field.inputFieldName)?.dirty)) ??
                  false
                "
              >
              </app-input-forms>
            </div>
          }

          @if (field.typeComponent === "select") {
            <div [ngClass]="field.colClass">
              <app-select-forms
                [id]="field.inputFieldName"
                [label]="field.label"
                [options]="field.options ?? []"
                [formControlName]="field.inputFieldName"
              ></app-select-forms>
            </div>
          }
        }
      </div>
    </fieldset>
  </div>

  <div formGroupName="address" class="mt-4">
    <fieldset class="uk-fieldset">
      <legend class="uk-legend">Dados de Contato</legend>
      <div class="row">
        @for (field of addressTeam; track $index) {
          @if (field.typeComponent === "input") {
            <div [ngClass]="field.colClass">
              <app-input-forms
                [id]="field.inputFieldName"
                [label]="field.label"
                [formControlName]="field.inputFieldName"
                [type]="field.inputType ?? 'text'"
                [placeholder]="field.placeholder ?? ''"
                [step]="field.step"
                [accept]="field.accept"
                [isInvalid]="
                  (teamForm.get('address.' + field.inputFieldName)?.invalid &&
                    (teamForm.get('address.' + field.inputFieldName)?.touched ||
                      teamForm.get('address.' + field.inputFieldName)
                        ?.dirty)) ??
                  false
                "
              >
              </app-input-forms>
            </div>
          }
        }
      </div>
    </fieldset>
  </div>

  <div class="row g-3 mt-4">
    <div class="col-12 col-md-6">
      <button
        class="uk-button uk-button-primary w-100"
        type="submit"
        [disabled]="teamForm.invalid"
      >
        Cadastrar time
      </button>
    </div>
    <div class="col-12 col-md-6" [routerLink]="['/team']">
      <button class="uk-button uk-button-default w-100" type="reset">
        Cancelar
      </button>
    </div>
  </div>
</form>
